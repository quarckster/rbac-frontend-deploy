(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[3537],{37504:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-rbac__dialog--warning .ins-c-rbac__delete-icon,.my-user-access .ins-c-rbac__dialog--warning .ins-c-rbac__delete-icon{color:var(--pf-global--warning-color--100)}\n",""]),e.exports=t},46777:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-wizard__cancel-warning-header,.my-user-access .ins-c-wizard__cancel-warning-header{display:flex;align-items:center}.rbac .ins-c-wizard__cancel-warning-header--icon,.my-user-access .ins-c-wizard__cancel-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""]),e.exports=t},78152:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-role__permissions .pf-c-content,.my-user-access .ins-c-role__permissions .pf-c-content{padding-bottom:var(--pf-global--spacer--sm)}.rbac .ins-c-role__permissions .pf-c-content h1,.my-user-access .ins-c-role__permissions .pf-c-content h1{font-weight:lighter}.rbac .ins-c-role__permissions .ins-c-text__disabled,.my-user-access .ins-c-role__permissions .ins-c-text__disabled{color:var(--pf-global--Color--200)}.rbac .ins-m-resource-definitions .pf-c-modal-box__body,.my-user-access .ins-m-resource-definitions .pf-c-modal-box__body{text-align:center;padding-top:var(--pf-global--spacer--4xl);padding-bottom:7rem}.rbac .ins-m-resource-definitions .pf-c-modal__alert,.my-user-access .ins-m-resource-definitions .pf-c-modal__alert{margin-bottom:var(--pf-global--spacer--sm)}\n",""]),e.exports=t},41162:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-role__action a,.my-user-access .ins-c-role__action a{color:inherit;text-decoration:none}\n",""]),e.exports=t},54526:(e,t,n)=>{"use strict";n.d(t,{bt:()=>f,yi:()=>v,mD:()=>h,Rp:()=>E,gg:()=>w,m:()=>_,C$:()=>j,nV:()=>D,HA:()=>S,Wj:()=>C,V8:()=>M});var r=n(87757),i=n.n(r),o=n(59713),a=n.n(o),s=n(63038),c=n.n(s),l=n(48926),u=n.n(l);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,n(63717).tP)();function f(e){return b.apply(this,arguments)}function b(){return(b=u()(i().mark((function e(t){var n,r,o,a,s,l,u,p,f,b,v,y,h,g,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,o=t.name,a=t.nameMatch,s=t.scope,l=t.username,u=t.uuid,p=t.roleNames,f=t.roleDiscriminator,b=t.orderBy,v=t.options,e.next=3,Promise.all([m.listGroups(n,r,o,a,s,l,u,p,f,b,v),insights.chrome.auth.getUser()]);case 3:return y=e.sent,h=c()(y,2),g=h[0],E=h[1],e.abrupt("return",d(d({},g),E));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=u()(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=m.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=m.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return P.apply(this,arguments)}function P(){return(P=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return m.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return R.apply(this,arguments)}function R(){return(R=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return x.apply(this,arguments)}function x(){return(x=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return k.apply(this,arguments)}function k(){return(k=u()(i().mark((function e(t,n,r){var o,a,s,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.limit,a=r.offset,s=r.name,c=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,m.listRolesForGroup(t,n,void 0,s,c,o,a,"display_name",l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return T.apply(this,arguments)}function T(){return(T=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return L.apply(this,arguments)}function L(){return(L=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return I.apply(this,arguments)}function I(){return(I=u()(i().mark((function e(t,n){var r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,m.getPrincipalsFromGroup(t,n,void 0,{query:d({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(80150);const i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},83341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(63038),i=n.n(r),o=n(80150),a=n.n(o),s=n(45697),c=n.n(s),l=n(69957),u=n(47173),p=n(93149),d=n(80236),m=n(79851),f=n(34512),b=n(49739),v=n(68774),y=(n(98487),function(e){var t=e.title,n=e.text,r=e.onClose,s=e.onSubmit,c=e.isOpen,y=e.confirmButtonLabel,h=e.withCheckbox,g=(0,o.useState)(!1),E=i()(g,2),O=E[0],w=E[1];return a().createElement(d.u,{className:"ins-c-rbac__dialog--warning",title:a().createElement("div",null,a().createElement(l.ZP,{className:"ins-m-alert ins-c-rbac__delete-icon"})," ",t),isOpen:c,variant:d.v.small,onClose:r,actions:[a().createElement(u.zx,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:h&&!O,variant:"danger",onClick:s},y),a().createElement(u.zx,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:r},"Cancel")]},a().createElement(m.P,{hasGutter:!0},a().createElement(f.J,{isFilled:!0},a().createElement(b.K,{hasGutter:!0},a().createElement(v.D,null,n)))),h?a().createElement(p.X,{isChecked:O,onChange:function(){return w(!O)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)});y.propTypes={text:c().any,title:c().string,confirmButtonLabel:c().string,onSubmit:c().func,onClose:c().func,isOpen:c().bool,withCheckbox:c().bool},y.defaultProps={withCheckbox:!1};const h=y},14726:(e,t,n)=>{"use strict";n.d(t,{bt:()=>o,WD:()=>a,yi:()=>s,Rp:()=>c,mD:()=>l,gg:()=>u,dy:()=>p,tz:()=>d,nV:()=>m,nd:()=>f,nr:()=>b,Wj:()=>v,W3:()=>y});var r=n(84887),i=n(54526),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:i.bt(e)}},a=function(e){return{type:r.kL,payload:i.bt({limit:1,name:e||"default",nameMatch:"partial"})}},s=function(e){return{type:r._h,payload:i.yi(e)}},c=function(e){return{type:r.Po,payload:i.Rp(e).catch((function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"name"===n.source)return{error:!0};throw{message:n.detail,description:n.source}}))}},l=function(e){return{type:r.t3,payload:i.mD(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},u=function(e){return{type:r.v9,payload:i.gg(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},p=function(e,t){return{type:r.Nr,payload:i.C$(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},d=function(e,t){return{type:r.b9,payload:i.m(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},m=function(e,t,n){return{type:r.XS,payload:i.nV(e,!1,t,n)}},f=function(e,t,n){return{type:r.Vh,payload:i.V8(e,t,n)}},b=function(e,t,n){return{type:r.as,payload:i.nV(e,!0,t,n)}},v=function(e,t){return{type:r.fG,payload:i.Wj(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},y=function(e,t){return{type:r.Yc,payload:i.HA(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},55004:(e,t,n)=>{"use strict";n.d(t,{tL:()=>v,Qi:()=>b,Hk:()=>m,AL:()=>y});var r=n(84887),i=n(87757),o=n.n(i),a=n(48926),s=n.n(a),c=(0,n(63717).Y3)();function l(e,t,n,r,i,o,a,s){return u.apply(this,arguments)}function u(){return(u=s()(o().mark((function e(t,n,r,i,a,s,l,u){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listPermissions(t,n,r,i,a,s,l,u);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,r,i,o,a){return d.apply(this,arguments)}function d(){return(d=s()(o().mark((function e(t,n,r,i,a,s,l){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listPermissionOptions(t,n,r,i,a,s,l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){var t=e.limit,n=e.offset,i=e.orderBy,o=e.application,a=e.resourceType,s=e.verb,c=e.permission,u=e.exclude_globals,p=void 0===u||u,d=e.options;return{type:r.wI,payload:l(t,n,i,o,a,s,c,p,d)}},f={application:r.KD,resource_type:r.vf,verb:r.E2},b=function(e){var t=e.field,n=e.limit,r=e.offset,i=e.application,o=e.resourceType,a=e.verb,s=e.options;return{type:f[t],payload:p(t,n,r,i,o,a,s)}},v=function(e){var t=e.limit,n=void 0===t?1e3:t,i=e.offset,o=void 0===i?0:i,a=e.orderBy,s=e.application,c=e.resourceType,u=e.verb,p=e.permission,d=e.exclude_globals,m=void 0===d||d,f=e.options;return{type:r.e,payload:l(n,o,a,s,c,u,p,m,f)}},y=function(){return{type:r.e0,payload:{data:[]}}}},44241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(59713),i=n.n(r),o=n(6479),a=n.n(o),s=n(67154),c=n.n(s),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),m=n(25607),f=n(81554),b=n(58860),v=n(74219),y=n(57820),h=n(16396),g=n(4853);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O="modal-form",w=function(e){return u().createElement(g.l,c()({},e,{id:O}))},P=function(e){var t=e.saveLabel,n=e.cancelLabel,r=(0,b.Z)().onCancel;return u().createElement(m.Z,null,(function(e){var i=e.pristine,o=e.invalid,a=e.validating,s=e.submitting;return u().createElement("div",{className:"pf-c-form"},u().createElement(y.W,{className:"pf-u-mt-0"},u().createElement(h.Button,{ouiaId:"primary-save-button",variant:"primary",form:O,type:"submit",isDisabled:i||a||s||o},t),u().createElement(h.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:r,id:"cancel-modal"},n)))}))};P.propTypes={saveLabel:d().node,cancelLabel:d().node},P.defaultProps={saveLabel:"Save",cancelLabel:"Cancel"};var _=function(e){var t=e.ModalProps,n=e.saveLabel,r=e.cancelLabel,i=e.alert,o=a()(e,["ModalProps","saveLabel","cancelLabel","alert"]);return u().createElement(v.Modal,c()({},t,{footer:u().createElement(P,{saveLabel:n,cancelLabel:r})}),null==i?void 0:i(),u().createElement(f.ZP,c()({},o,{showFormControls:!1,FormWrapper:w})))};_.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ModalProps:d().object},P.propTypes);const R=_},72389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(67154),i=n.n(r),o=n(59713),a=n.n(o),s=n(6479),c=n.n(s),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),m=n(319),f=n.n(m),b=n(90784),v=n(22608),y=n(59775),h=n(68774),g=n(68340),E=function(e){var t=e.input,n=e.options,r=e.isReadOnly,o=e.isDisabled,a=e.isRequired,s=c()(e,["input","options","isReadOnly","isDisabled","isRequired"]);return u().createElement(b.i,i()({},t,s,{isDisabled:o||r}),function(e,t,n){if(t&&n)return e;var r=f()(e);return r.find((function(e){return void 0===e.value}))?f()(r):[{label:n?"Please choose":"None"}].concat(f()(r))}(n,t.value,a).map((function(e){return u().createElement(v.j,i()({key:e.value||e.label},e,{label:e.label.toString()}))})))};E.propTypes={input:d().object.isRequired,options:d().arrayOf(d().shape({value:d().any,label:d().string.isRequired})).isRequired,isReadOnly:d().bool,isDisabled:d().bool,isRequired:d().bool,FieldProvider:d().any};var O=function(e){var t=e.label,n=e.isRequired,r=e.helperText,o=e.meta,a=e.description,s=e.hideLabel,l=c()(e,["label","isRequired","helperText","meta","description","hideLabel"]),p=o.error,d=o.touched&&p;return u().createElement(y.c,{isRequired:n,label:!s&&t,fieldId:l.id,isValid:!d,helperText:r,helperTextInvalid:o.error},a&&u().createElement(h.D,null,u().createElement(g.x,{component:g.q.small},a)),u().createElement(E,i()({label:t,isValid:!d,isRequired:n},l)))};O.propTypes={componentType:d().string,label:d().string,isRequired:d().bool,helperText:d().string,meta:d().object,description:d().string,hideLabel:d().bool};const w=O;var P=n(41609),_=n.n(P),R=n(68809),j=n(47173),x=n(58860),D=n(25607),k=function(e){var t=e.dirtyFieldsSinceLastSubmit,n=e.submitSucceeded,r=e.pristine,i=(0,x.Z)().onCancel,o=_()(t)||!n&&r;return u().createElement(R.W,{className:"pf-u-mt-0"},u().createElement(j.zx,{ouiaId:"primary-submit-button",type:"submit",isDisabled:o,variant:"primary"},"Save"),u().createElement(j.zx,{ouiaId:"secondary-cancel-button",variant:"link",onClick:function(){return i()}},"Cancel"))};k.propTypes={dirtyFieldsSinceLastSubmit:d().shape(a()({},d().string,d().oneOfType([d().string,d().number,d().bool]))),submitSucceeded:d().bool,pristine:d().bool,onCancel:d().func};const S=function(e){return u().createElement(D.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return u().createElement(k,i()({},t,e))}))};var T=n(81554),C=n(28517),L=n(11831),M=n(98917),I=n(87242),Z=function(e){var t,n=e.formTemplateProps,r=c()(e,["formTemplateProps"]);return u().createElement(M.Z,i()({componentMapper:(t={},a()(t,I.Z.TEXT_FIELD,C.Z),a()(t,I.Z.TEXTAREA,L.Z),a()(t,I.Z.SELECT,w),t),FormTemplate:function(e){return u().createElement(T.ZP,i()({},n,e,{FormButtons:S}))}},r))};Z.propTypes={formTemplateProps:d().object};const q=Z},2485:(e,t,n)=>{"use strict";n.d(t,{R:()=>u});var r=n(80150),i=n.n(r),o=n(45697),a=n.n(o),s=n(80236),c=n(47173),l=n(69957),u=(n(27999),function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onConfirmCancel,a=e.customTitle,u=e.customDescription;return i().createElement(s.u,{title:i().createElement("span",{className:"ins-c-wizard__cancel-warning-header"},i().createElement(l.ZP,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),a||"Exit ".concat(t," creation?")),variant:s.v.small,className:"ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[i().createElement(c.zx,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},"Exit"),i().createElement(c.zx,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},"Stay")]},i().createElement("span",null,u||"All inputs will be discarded."," "))});u.propTypes={type:a().string,customTitle:a().node,customDescription:a().node,isOpen:a().bool,onModalCancel:a().func,onConfirmCancel:a().func}},95155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(67154),i=n.n(r),o=n(63038),a=n.n(o),s=n(80150),c=n.n(s),l=n(45697),u=n.n(l),p=n(87242),d=n(24154),m=n(44241),f=n(72389),b=n(27435),v=n(47194),y=n(70983),h=n(80266),g=n(71355),E=n(45139),O=n(39379),w=n(89531),P=function(e,t,n){return e.length<150?(0,E.vd)({name:e}).then((function(r){var i=r.data;if(0!==i.length&&i.some((function(r){return r[t]!==n&&r.display_name===e})))throw"Role with this name already exists."})):Promise.reject("Can have maximum of 150 characters.")},_=function(e){return{fields:[{name:"name",component:p.Z.TEXT_FIELD,label:"Name",isRequired:!0,validate:[{type:"validate-role-name",id:e,idKey:"uuid",validationPromise:P}]},{name:"description",component:p.Z.TEXTAREA,label:"Description",validate:[{type:d.Z.MAX_LENGTH,threshold:150}]}]}},R=(0,O.Z)((function(e,t,n,r){return e&&0!==e.length?r(e,t,n):Promise.reject("Required")})),j=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.afterSubmit,o=(0,b.Z)(),l=(0,v.useRouteMatch)(t).params.id,u=(0,v.useHistory)(),p=u.replace,d=u.push,O=(0,y.useDispatch)(),P={"validate-role-name":function(e){var t=e.idKey,n=e.id,r=e.validationPromise;return function(e){return R(e,t,n,r)}}},j=(0,y.useSelector)((function(e){return(0,h.z)(e,l)})),x=(0,s.useState)(j),D=a()(x,2),k=D[0],S=D[1],T=function(){O((0,g.wN)({variant:"warning",dismissDelay:8e3,dismissable:!1,title:"Editing role",description:"Edit role was canceled by the user."})),p(n)};return(0,s.useEffect)((function(){!k&&(0,E.fp)(l).then((function(e){o.current&&S(e)}))}),[l]),k?c().createElement(f.Z,{schema:_(l),initialValues:k,onSubmit:function(e){return O((0,w.sZ)(l,{name:e.name,display_name:e.name,description:e.description})).then((function(){r(),d(n)}))},onCancel:T,validatorMapper:P,FormTemplate:function(e){return c().createElement(m.Z,i()({},e,{ModalProps:{onClose:T,isOpen:!0,variant:"small",title:"Edit role information"}}))}}):null};j.propTypes={routeMatch:u().string.isRequired,cancelRoute:u().string.isRequired,afterSubmit:u().func.isRequired};const x=j},60843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(63038),i=n.n(r),o=n(80150),a=n.n(o),s=n(45697),c=n.n(s),l=n(70983),u=n(47194),p=n(69957),d=n(47173),m=n(93149),f=n(80236),b=n(68340),v=n(68774),y=n(79851),h=n(34512),g=n(83215),E=n(89531),O=n(45139),w=n(27435),P=n(80266),_=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.afterSubmit,s=(0,w.Z)(),c=(0,u.useRouteMatch)(t).params.id,_=(0,l.useSelector)((function(e){return(0,P.B)(e,c)})),R=(0,o.useState)(!0),j=i()(R,2),x=j[0],D=j[1],k=(0,o.useState)(_),S=i()(k,2),T=S[0],C=S[1],L=(0,l.useDispatch)(),M=(0,u.useHistory)(),I=M.push,Z=M.replace;(0,o.useEffect)((function(){!T&&(0,O.fp)(c).then((function(e){s.current&&C(e.display_name)})).catch((function(e){var t,n;return L((0,g.wN)({variant:"danger",title:"Could not get role",description:null==e||null===(t=e.errors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.detail}))}))}),[]);var q=function(){return Z(n)};return T?a().createElement(f.u,{"aria-label":"remove-role",header:a().createElement(v.D,null,a().createElement(y.P,{hasGutter:!0},a().createElement(h.J,null,a().createElement(p.ZP,{size:"lg",style:{fill:"#f0ab00"}})),a().createElement(h.J,null,a().createElement(b.x,{component:"h1"},"Delete role?")))),isOpen:!0,variant:"small",onClose:q,actions:[a().createElement(d.zx,{isDisabled:x,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:function(){return L((0,E.l5)(c)).then((function(){return I("/roles"),r()}))}},"Confirm"),a().createElement(d.zx,{key:"cancel",variant:"link",type:"button",onClick:q},"Cancel")]},a().createElement(v.D,null,a().createElement(b.x,{component:b.q.p},"The ",a().createElement("strong",null,T)," role will be removed from any group itâ€™s in, and members in the groups will no longer be granted the permissions in the role."),a().createElement(m.X,{id:"remove-role-checkbox",label:"I understand that this action cannot be undone.",isChecked:!x,onChange:function(){return D((function(e){return!e}))}}))):null};_.propTypes={routeMatch:c().string.isRequired,cancelRoute:c().string.isRequired,afterSubmit:c().func.isRequired};const R=_},80266:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,B:()=>i});var r=function(e,t){var n=e.roleReducer,r=n.roles,i=void 0===r?{data:[]}:r,o=n.selectedRole;return(null==o?void 0:o.uuid)===t?o:i.data.find((function(e){return e.uuid===t}))},i=function(e,t){var n;return null===(n=r(e,t))||void 0===n?void 0:n.display_name}},93537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Me});var r,i=n(319),o=n.n(i),a=n(59713),s=n.n(a),c=n(63038),l=n.n(c),u=n(80150),p=n.n(u),d=n(45697),m=n.n(d),f=n(47194),b=n(70983),v=n(56787),y=n(84457),h=n(91845),g=n(48140),E=n(86050),O=n(68340),w=n(68774),P=n(39173),_=n(60306),R=n(89531),j=n(37671),x=n(55917),D=n(17721),k=n(6479),S=n.n(k),T=n(62410),C=n(71410),L=n(85564),M=n.n(L);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={pagination:C.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:function(){return null},deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},N="SET_PAGINATION",F="SELECT_PERMISSIONS",G="SHOW_REMOVE_MODAL",A="SUBMIT_REMOVE_MODAL",B="INITIATE_REMOVE_PERMISSION",z="SET_FILTERS",V="SET_TOGGLED",W="INITIALIZE_ROLE",H=(r={},s()(r,N,(function(e,t){return Z(Z({},e),{},{pagination:Z(Z({},e.pagination),t)})})),s()(r,F,(function(e,t){var n=t.selection;return Z(Z({},e),{},{selectedPermissions:n})})),s()(r,G,(function(e,t){var n=t.showRemoveModal;return Z(Z({},e),{},{showRemoveModal:n})})),s()(r,A,(function(e){return Z(Z({},e),{},{selectedPermissions:[],showRemoveModal:!1})})),s()(r,B,(function(e,t){var n=t.confirmDelete,r=t.deleteInfo;return Z(Z({},e),{},{confirmDelete:n,showRemoveModal:!0,deleteInfo:r})})),s()(r,z,(function(e,t){return Z(Z({},e),{},{filters:Z(Z({},e.filters),t)})})),s()(r,V,(function(e){return Z(Z({},e),{},{isToggled:!e.isToggled})})),s()(r,W,(function(e,t){var n=t.count,r=S()(t,["count"]);return Z(Z(Z({},e),r),{},{pagination:Z(Z({},e.pagination),{},{count:n})})})),r),X=function(e,t){var n=t.type,r=S()(t,["type"]);return H[n]?H[n](e,r):e},K=n(12460),J=(n(36337),n(83341)),Q=function(e){var t=e.title,n=e.text,r=e.onClose,i=e.onSubmit,o=e.isOpen,a=e.confirmButtonLabel;return p().createElement(J.Z,{text:n,title:t,isOpen:o,confirmButtonLabel:a,onClose:r,onSubmit:i})};Q.propTypes={text:m().any,title:m().string,confirmButtonLabel:m().string,onSubmit:m().func,onClose:m().func,isOpen:m().bool};const U=Q;var Y=n(47173),$=n(87757),ee=n.n($),te=n(48926),ne=n.n(te),re=n(55004);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=["Application","Resource type","Operation"],se=function(e){var t=e.permissionReducer,n=t.permission,r=t.isLoading,i=t.options,o=i.application,a=i.operation,s=i.resource,c=e.roleReducer,l=c.isRecordLoading,u=c.selectedRole;return{permissions:n.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,n=e.resource_type,r=e.verb,i=e.permission;return{application:t,resource:n,operation:r,uuid:i}})),pagination:n.meta,isLoading:r||l,baseRole:u,applicationOptions:o.data,resourceOptions:s.data,operationOptions:a.data}},ce=function(e){var t=e.selectedPermissions,n=e.setSelectedRolePermissions,r=(0,b.useDispatch)(),i=(0,b.useSelector)(se,b.shallowEqual),o=i.permissions,a=i.isLoading,s=i.pagination,c=function(e){return r((0,re.Hk)(e))},l=function(e){return r((0,re.Qi)(e))};return(0,u.useEffect)((function(){(0,b.batch)((function(){c(s),l({field:"application",limit:50}),l({field:"resource_type",limit:50}),l({field:"verb",limit:50})}))}),[]),p().createElement("div",{className:"ins-c-rbac-permissions-table"},p().createElement(D.M,{columns:ae,isCompact:!0,borders:!1,createRows:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){var t=e.application,r=e.resource,i=e.operation,o=e.uuid;return{uuid:"".concat(t,":").concat(r,":").concat(i),cells:[t,r,i],selected:null==n?void 0:n.some((function(e){return e.uuid===o}))}}))},data:o,fetchData:function(e){var t=e.limit,n=e.offset,r=e.applications,i=e.resources,o=e.operations;c({limit:t,offset:n,application:r,resourceType:i,verb:o})},isLoading:a,pagination:oe(oe({},s),{},{count:s.count}),titlePlural:"permissions",titleSingular:"permission",setCheckedItems:function(e){n((function(t){return e(t).map((function(e){return{uuid:e.uuid}}))}))},checkedRows:t,isSelectable:!0,tableId:"add-role-permissions-view"}))};ce.defaultProps={selectedPermissions:[],role:{}},ce.propTypes={selectedPermissions:m().arrayOf({uuid:m().string.isRequired}).isRequired,setSelectedRolePermissions:m().func.isRequired,role:m().object};const le=ce;var ue=n(50693),pe=n(16475),de=n(49739),me=n(83826),fe=n(60485),be=function(e){var t=e.selectedPermissions,n=void 0===t?[]:t,r=e.role,i=void 0===r?{}:r,o=i.display_name,a=i.description;return p().createElement(de.K,{hasGutter:!0},p().createElement(me.v,null,p().createElement(w.D,null,p().createElement(fe.D,{headingLevel:"h4",size:"xl"},"Review Details"))),p().createElement(me.v,{classnem:"ins-c-rbac__summary"},p().createElement(ue.r,{hasGutter:!0},p().createElement(pe.P,{span:3},p().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Role Name:")),p().createElement(pe.P,{span:9},p().createElement(O.x,{component:O.q.p},o)),p().createElement(pe.P,{span:3},p().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Role Description:")),p().createElement(pe.P,{span:9},p().createElement(O.x,{component:O.q.p},a)),p().createElement(pe.P,{span:3},p().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Adding Permissions:")),p().createElement(pe.P,{span:9},p().createElement(O.x,{component:O.q.p},n.map((function(e,t){return p().createElement(O.x,{key:t}," ",e.uuid," ")})))))))};be.propTypes={role:m().shape,selectedPermissions:m().array};const ve=be;var ye=n(2485),he=n(77583),ge=n(45139);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=e.role,n=(0,u.useState)([]),r=l()(n,2),i=r[0],a=r[1],s=(0,u.useState)(!1),c=l()(s,2),d=c[0],m=c[1],b=(0,u.useState)(""),v=l()(b,2),y=v[0],h=v[1],g=(0,f.useHistory)();(0,u.useEffect)((function(){h(t.uuid)}),[t]);var E=[{id:1,name:"Add Permissions",component:new le({selectedPermissions:i,setSelectedRolePermissions:function(e){a(e)},role:t})},{id:2,name:"Review Details",component:new ve({selectedPermissions:i,role:t}),nextButtonText:"Confirm"}],O=function(){var e=ne()(ee().mark((function e(){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.map((function(e){return{resourceDefinitions:[],permission:e.uuid}})),r=Oe(Oe({},t),{},{access:[].concat(o()(t.access),o()(n)),accessCount:t.accessCount+i.length}),e.prev=2,e.next=5,(0,ge.ul)(y,r);case 5:g.goBack(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),g.goBack();case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return p().createElement(p().Fragment,null,p().createElement(he.e,{title:"Add Permission",description:"Adding permissions to roles",steps:E,isOpen:!0,onClose:function(){m(!0)},onSave:O}),p().createElement(ye.R,{type:"Permission",isOpen:d,onModalCancel:function(){return m(!1)},onConfirmCancel:function(){g.goBack()}}))};we.defaultProps={role:{}},we.propTypes={role:m().object};const Pe=we;function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Resource definitions",header:{info:{popover:"Resource definitions only apply to Cost Management permissions",ariaLabel:"Resource definitions only apply to Cost Management permissions",popoverProps:{maxWidth:"19rem",minWidth:"19rem"}}},transforms:[(0,K.cellWidth)(20)]},{title:"Last commit",transforms:[(0,K.cellWidth)(15)]}],xe=function(e,t,n){return n?p().createElement("p",null,"The ",p().createElement("b",null," ","".concat(e))," selected permissions will no longer be granted through the ",p().createElement("b",null,"".concat(t.name))," role."):p().createElement("p",null,"The ",p().createElement("b",null,"".concat(e))," permission will no longer be granted through the ",p().createElement("b",null," ","".concat(t.name))," role.")};const De=function(){var e=(0,b.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),b.shallowEqual),t=e.role,n=e.isRecordLoading,r=(0,f.useHistory)(),i=(0,u.useReducer)(X,q),a=l()(i,2),c=a[0],d=c.pagination,m=c.selectedPermissions,v=c.showRemoveModal,y=c.confirmDelete,h=c.deleteInfo,g=c.filters,E=c.isToggled,P=c.resources,j=c.operations,x=a[1],k=(0,u.useState)(!0),S=l()(k,2),C=S[0],L=S[1],I=(0,b.useDispatch)();(0,u.useEffect)((function(){var e;if(Object.keys(t).length>0){var n=Object.entries(t.access.reduce((function(e,t){var n=e.resources,r=e.operations,i=t.permission.split(":"),a=l()(i,3),s=a[1],c=a[2];return{resources:n.includes(s)?n:[].concat(o()(n),[s]),operations:r.includes(c)?r:[].concat(o()(r),[c])}}),{resources:[],operations:[]})).reduce((function(e,t){var n=l()(t,2),r=n[0],i=n[1];return Re(Re({},e),{},s()({},r,i.map((function(e){return{label:e,value:e}}))))}),{}),r=n.resources,i=n.operations;x({type:W,resources:r,operations:i,count:t.access?t.access.length:0})}L(null==t||null===(e=t.access)||void 0===e?void 0:e.find((function(e){return e.permission.includes("cost-management")})))}),[t]);var Z,H,K=t&&t.access?(t.access||[]).filter((function(e){var t=e.permission.split(":"),n=l()(t,3),r=n[0],i=n[1],o=n[2],a=g.applications,s=g.resources,c=g.operations;return(!(a.length>0)||a.includes(r))&&(!(s.length>0)||s.includes(i))&&(!(c.length>0)||c.includes(o))})).map((function(e){return Re(Re({uuid:e.permission},e),{},{modified:t.modified})})):[],J=function(e){var n=e.reduce((function(e,t){return[].concat(o()(e),[t.uuid])}),[]);return I((0,R.lq)(t,n)).then((function(){I((0,R.fp)(t.uuid)),x({type:F,selection:[]})}))},Q=function(e){return e.reduce((function(e,t){return{0:Re(Re({},null==e?void 0:e[0]),{},s()({},t,!0))}}),{0:{}})},$={label:p().createElement("div",null," No results found"),isDisabled:!0},ee=Re({access:[],applications:[]},t),te=Object.values({applications:ee.applications,operations:j,resources:P}).find((function(e){return e.length>10}));return p().createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},v&&p().createElement(U,{text:h.text,title:h.title,isOpen:v,confirmButtonLabel:h.confirmButtonLabel,onClose:function(){return x({type:G,showRemoveModal:!1})},onSubmit:function(){y(),x({type:A})}}),p().createElement(w.D,null,p().createElement(O.x,{component:O.q.h1},"Permissions")),p().createElement(D.M,{columns:C?je:je.filter((function(e){return"Resource definitions"!==e.title})),createRows:(Z=C,H=null==t?void 0:t.uuid,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.resourceDefinitions,i=t.permission,a=t.modified,s=i.split(":"),c=l()(s,3),d=c[0],m=c[1],b=c[2];return[].concat(o()(e),[{uuid:i,cells:[d,m,b].concat(o()(Z?[i.includes("cost-management")&&r.length>0?p().createElement(u.Fragment,{key:"resource-definitions"},p().createElement(f.Link,{to:"/roles/detail/".concat(H,"/permission/").concat(i)},M()(r.map((function(e){return e.attributeFilter.value}))).length)):p().createElement("span",{className:"ins-c-text__disabled"},"N/A")]:[]),[p().createElement(u.Fragment,{key:"".concat(d,"-modified")},p().createElement(T.Z,{date:a,type:"relative"}))]),selected:Boolean(null==n?void 0:n.find((function(e){return e.uuid===i})))}])}),[])}),actionResolver:t.system?void 0:function(){return[{title:"Remove",onClick:function(e,n,r){return x({type:B,confirmDelete:function(){return J([r])},deleteInfo:{title:"Remove permission?",text:xe(r.uuid,t,!1),confirmButtonLabel:"Remove permission"}})}}]},data:K.slice(d.offset,d.offset+d.limit),filterValue:"",ouiaId:"role-permissions-table",fetchData:function(e){var t=e.limit,n=e.offset;return x({type:N,limit:t,offset:n})},isSelectable:!t.system,setCheckedItems:function(e){x({type:F,selection:e(m).map((function(e){return{uuid:e.uuid}}))})},checkedRows:m,onShowMore:te?function(){x({type:V})}:void 0,setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;x(Re(Re(Re({type:z},t?{applications:t}:g.applications),n?{resources:n}:g.resources),r?{operations:r}:g.operations))},toolbarButtons:function(){return window.insights.chrome.isBeta()&&!t.system?[p().createElement(f.Link,{to:"/roles/detail/".concat(t.uuid,"/role-add-permission"),key:"role-add-permission",className:"pf-m-visible-on-md"},p().createElement(Y.zx,{variant:"primary","aria-label":"Add Permission"},"Add Permission")),{label:"Add Permission",props:{className:"pf-m-hidden-on-md"},onClick:function(){r.push("/roles/detail/".concat(t.uuid,"/role-add-permission"))}},{label:"Remove",props:{isDisabled:!m.length>0},onClick:function(){var e=m.length>1;x({type:B,confirmDelete:function(){return J(o()(m))},deleteInfo:{title:e?"Remove permissions?":"Remove permission?",text:xe(e?m.length:m[0].uuid,t,m.length>1),confirmButtonLabel:e?"Remove permissions":"Remove permission"}})}}]:[]},isLoading:n,pagination:Re(Re({},d),{},{count:K.length}),titlePlural:"permissions",titleSingular:"permission",routes:function(){return p().createElement(f.Route,{exact:!0,path:_._j.W3},p().createElement(Pe,{isOpen:!0,role:t}))},filters:[{key:"applications",value:g.applications,placeholder:"Filter by application",type:"group",selected:Q(g.applications),groups:[{type:ee.applications.length>0?"checkbox":"plain",items:ee.applications.length>0?ee.applications.slice(0,E?void 0:10).map((function(e){return{label:e,value:e}})):[$]}]},{key:"resources",value:g.resources,placeholder:"Filter by resource type",type:"group",selected:Q(g.resources),groups:[{type:P.length>0?"checkbox":"plain",items:P.length>0?P.slice(0,E?void 0:10):[$]}]},{key:"operations",value:g.operations,placeholder:"Filter by operation",type:"group",selected:Q(g.operations),groups:[{type:j.length>0?"checkbox":"plain",items:j.length>0?j.slice(0,E?void 0:10):[$]}]}],tableId:"role-permissions"}))};var ke=n(14726),Se=n(60843),Te=n(95155);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(57250);var Le=function(e){var t=e.onDelete,n=(0,u.useState)(!1),r=l()(n,2),i=r[0],a=r[1],c=(0,f.useParams)(),d=c.uuid,m=c.groupUuid,D=(0,b.useSelector)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},m&&{group:e.groupReducer.selectedGroup})}),b.shallowEqual),k=D.role,S=D.group,T=D.isRecordLoading,C=(0,b.useDispatch)(),L=function(){C((0,R.fp)(d)),m&&C((0,ke.yi)(m))};(0,u.useEffect)((function(){return L(),insights.chrome.appObjectId(d),function(){return insights.chrome.appObjectId(void 0)}}),[d,m]);var M=!T&&k?k.display_name||k.name:void 0,I=!T&&k?k.description:void 0,Z=[p().createElement(y.h,{component:p().createElement(f.Link,{to:_._j.Pu.replace(":id",d)},"Edit"),key:"edit-role"}),p().createElement(y.h,{component:p().createElement(f.Link,{onClick:t,to:_._j.GL.replace(":id",d)},"Delete"),className:"ins-c-role__action",key:"delete-role"})];return p().createElement(u.Fragment,null,p().createElement(j.Q,{breadcrumbs:[m?{title:"Groups",to:"/groups"}:{title:"Roles",to:"/roles"}].concat(o()(m?[{title:S&&S.name,to:"/groups/detail/".concat(m,"/roles"),isLoading:S&&S.loaded}]:[]),[{title:T?void 0:k&&(k.display_name||k.name),isActive:!0}])},p().createElement(g.a,null,p().createElement(E.Z,null,p().createElement(P.Z,{title:M||p().createElement(x.h2,null),className:"ins-rbac-page-header__title"})),!T&&k&&!k.system&&p().createElement(E.Z,null,p().createElement(v.L,{ouiaId:"role-title-actions-dropdown",toggle:p().createElement(h.a,{onToggle:function(e){return a(e)},id:"role-actions-dropdown"}),isOpen:i,isPlain:!0,position:"right",dropdownItems:Z}))),I&&p().createElement(w.D,{className:"ins-rbac-page-header__description"},p().createElement(O.x,{component:"p"},I))),T||!k?p().createElement(x.Wi,null):p().createElement(De,null),p().createElement(f.Route,{path:_._j.GL},!T&&p().createElement(Se.Z,{afterSubmit:function(){return C((0,R.Kt)())},cancelRoute:_._j.Fh.replace(":uuid",d),routeMatch:_._j.GL})),p().createElement(f.Route,{path:_._j.Pu},!T&&p().createElement(Te.Z,{afterSubmit:L,cancelRoute:_._j.Fh.replace(":uuid",d),routeMatch:_._j.Pu})))};Le.propTypes={onDelete:m().string};const Me=Le},39379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(99166);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return(0,r.Z)(e,t,n)}},98487:(e,t,n)=>{var r=n(93379),i=n(37504);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(37504,(function(){"string"==typeof(i=(i=n(37504)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},27999:(e,t,n)=>{var r=n(93379),i=n(46777);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(46777,(function(){"string"==typeof(i=(i=n(46777)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},36337:(e,t,n)=>{var r=n(93379),i=n(78152);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(78152,(function(){"string"==typeof(i=(i=n(78152)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},57250:(e,t,n)=>{var r=n(93379),i=n(41162);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(41162,(function(){"string"==typeof(i=(i=n(41162)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}}}]);
//# sourceMappingURL=3537.de9c6323f72176a2d52c.js.map